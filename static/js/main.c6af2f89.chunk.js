(this["webpackJsonpit-incubator-todolist-ts"]=this["webpackJsonpit-incubator-todolist-ts"]||[]).push([[0],{118:function(t,e,n){t.exports=n(171)},123:function(t,e,n){},124:function(t,e,n){},171:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(10),i=n.n(r);n(123),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(124);var o,l,u=n(40),s=n(208),d=n(61),f=n.n(d),O=f()({input:{width:"70%"},editableSpan:{display:"inline-flex",justifyContent:"center",alignItems:"center",maxWidth:"70%",overflowWrap:"anywhere"}}),m=c.a.memo((function(t){var e=t.changeTitle,n=t.taskTitle,r=O(),i=Object(a.useState)(!1),o=Object(u.a)(i,2),l=o[0],d=o[1],f=Object(a.useState)(n),m=Object(u.a)(f,2),T=m[0],b=m[1],E=Object(a.useCallback)((function(){d(!1),T.trim()&&e(T.trim())}),[T,e]),p=Object(a.useCallback)((function(t){return b(t.currentTarget.value)}),[]);return l?c.a.createElement(s.a,{className:r.input,value:T,onBlur:E,onChange:p,autoFocus:!0}):c.a.createElement("span",{onDoubleClick:function(){return d(!0)},className:r.editableSpan},n)})),T=n(210),b=n(209),E=n(198),p=n(199),j=n(34),S=n(69),L=n(9),I=n(105),k=n.n(I);!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(o||(o={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.High=2]="High",t[t.Later=3]="Later"}(l||(l={}));var v,D=k.a.create(Object(L.a)({baseURL:"https://social-network.samuraijs.com/api/1.1/"},{withCredentials:!0,headers:{"API-KEY":"98ca0a48-2755-4c64-8a17-87fb70df4a7a"}})),h=function(){return D.get("todo-lists")},C=function(t){return D.post("todo-lists",{title:t})},_=function(t){return D.delete("todo-lists/".concat(t))},A=function(t,e){return D.put("todo-lists/".concat(t),{title:e})},g=function(t){return D.get("todo-lists/".concat(t,"/tasks"))},y=function(t,e){return D.post("todo-lists/".concat(t,"/tasks"),{title:e})},w=function(t,e){return D.delete("todo-lists/".concat(e,"/tasks/").concat(t))},N=function(t,e,n){return D.put("todo-lists/".concat(e,"/tasks/").concat(t),n)};!function(t){t.SET_TODO_LISTS="SET-TODO-LISTS",t.REMOVE_TODOLIST="REMOVE-TODOLIST",t.ADD_TODOLIST="ADD-TODOLIST",t.CHANGE_TODOLIST_TITLE="CHANGE-TODOLIST-TITLE",t.CHANGE_TODOLIST_FILTER="CHANGE-TODOLIST-FILTER"}(v||(v={}));var K,M=[],R=function(t,e){return{type:v.CHANGE_TODOLIST_FILTER,id:e,filter:t}},x=function(){return function(t){h().then((function(e){return t((n=e.data,{type:v.SET_TODO_LISTS,todoLists:n}));var n}))}},G=function(t){return function(e){_(t).then((function(){return e((n=t,{type:v.REMOVE_TODOLIST,id:n}));var n}))}},H=function(t){return function(e){C(t).then((function(t){return e((n=t.data.data.item,{type:v.ADD_TODOLIST,todoList:n}));var n}))}},V=function(t,e){return function(n){A(t,e).then((function(){return n(function(t,e){return{type:v.CHANGE_TODOLIST_TITLE,title:e,id:t}}(t,e))}))}};!function(t){t.REMOVE_TASK="REMOVE-TASK",t.ADD_TASK="ADD-TASK",t.UPDATE_TASK="CHANGE-TASK-STATUS",t.SET_TASKS="SET-TASKS"}(K||(K={}));var P={},W=function(t){return function(e){g(t).then((function(n){return e((a=t,c=n.data.items,{type:K.SET_TASKS,todoListID:a,tasks:c}));var a,c}))}},F=function(t,e){return function(n){w(t,e).then((function(){n(function(t,e){return{type:K.REMOVE_TASK,taskId:t,todoListID:e}}(t,e))}))}},U=function(t,e){return function(n){y(t,e).then((function(t){return n((e=t.data.data.item,{type:K.ADD_TASK,task:e}));var e}))}},B=function(t,e,n){return function(a,c){var r=c().tasks[e].find((function(e){return e.id===t}));if(!r)throw new Error("Task no found in the STATE");var i=Object(L.a)({title:r.title,description:r.description,status:r.status,priority:l.Low,startDate:r.startDate,deadline:r.deadline},n);N(t,e,i).then((function(){return a(function(t,e,n){return{type:K.UPDATE_TASK,taskId:t,todoListID:e,model:n}}(t,e,n))}))}},z=n(18),J=f()({listItem:{display:"flex",justifyContent:"space-between",alignItems:"center",maxWidth:"250px"}}),Y=c.a.memo((function(t){var e=Object(z.b)(),n=J(),r=t.task,i=t.todoListId,l=Object(a.useCallback)((function(){e(F(r.id,i))}),[e,i,r.id]),u=Object(a.useCallback)((function(t){var n=t.currentTarget.checked?o.Completed:o.New;e(B(r.id,i,{status:n}))}),[e,i,r.id]),s=Object(a.useCallback)((function(t){e(B(r.id,i,{title:t}))}),[e,i,r.id]);return c.a.createElement("li",{className:"".concat(r.status===o.Completed?"is-done":""," ").concat(n.listItem)},c.a.createElement(T.a,null,c.a.createElement(b.a,{onChange:u,checked:r.status===o.Completed,color:"primary"}),c.a.createElement(m,{taskTitle:r.title,changeTitle:s})),c.a.createElement(E.a,{onClick:l},c.a.createElement(p.a,null)))})),q=n(200),$=c.a.memo((function(t){var e=t.addItem,n=t.placeholder,r=Object(a.useState)(""),i=Object(u.a)(r,2),o=i[0],l=i[1],d=Object(a.useState)(null),f=Object(u.a)(d,2),O=f[0],m=f[1],T=Object(a.useCallback)((function(){var t=o.trim();t?e(t):m("Title is required!"),l("")}),[o,e]),b=Object(a.useCallback)((function(t){O&&m(""),l(t.currentTarget.value)}),[O]),p=Object(a.useCallback)((function(t){"Enter"===t.key&&T()}),[T]);return c.a.createElement("div",{style:{marginBottom:"20px"}},c.a.createElement(s.a,{variant:"outlined",value:o,onChange:b,onKeyPress:p,error:!!O,helperText:O,label:n||"Enter task name..."}),c.a.createElement(E.a,{onClick:T,color:"primary"},c.a.createElement(q.a,null)))})),Q=n(201),X=n(80),Z=n.n(X),tt=c.a.memo((function(t){var e=Object(z.c)((function(e){return e.todoLists.filter((function(e){return t.todoListId===e.id}))[0]})),n=Object(z.c)((function(e){return e.tasks[t.todoListId]})),r=Object(z.b)();Object(a.useEffect)((function(){r(W(e.id))}),[r,e.id]);var i,l=Object(a.useMemo)((function(){return"active"===e.filter?n.filter((function(t){return t.status===o.New})):"completed"===e.filter?n.filter((function(t){return t.status===o.Completed})):n}),[e.filter,n]),u=Object(a.useCallback)((function(t){r(U(e.id,t))}),[r,e.id]),s=Object(a.useCallback)((function(){r(R("all",e.id))}),[r,e.id]),d=Object(a.useCallback)((function(){r(R("active",e.id))}),[r,e.id]),f=Object(a.useCallback)((function(){r(R("completed",e.id))}),[r,e.id]),O=Object(a.useCallback)((function(){r(G(e.id))}),[r,e.id]),T=Object(a.useCallback)((function(t){r(V(e.id,t))}),[r,e.id]);return c.a.createElement("div",null,c.a.createElement("h3",null,c.a.createElement(m,{taskTitle:e.title,changeTitle:T}),c.a.createElement(E.a,{onClick:O},c.a.createElement(p.a,null))),c.a.createElement($,{addItem:u}),c.a.createElement("div",{className:Z.a.btnGroup},c.a.createElement(Q.a,{variant:"all"===e.filter?"outlined":"contained",color:"primary",onClick:s,size:"small"},"All"),c.a.createElement(Q.a,{variant:"active"===e.filter?"outlined":"contained",color:"primary",onClick:d,size:"small"},"Active"),c.a.createElement(Q.a,{variant:"completed"===e.filter?"outlined":"contained",color:"primary",onClick:f,size:"small"},"Completed")),c.a.createElement("ul",null,l.length?l.map((function(e){return c.a.createElement(Y,{key:e.id,todoListId:t.todoListId,task:e})})):(i="all"===(i=e.filter)?"any":i,c.a.createElement("span",{className:Z.a.noTasksMessage},"You have no ",i," tasks"))))})),et=n(202),nt=n(203),at=n(205),ct=n(206),rt=n(207),it=n(176),ot=n(204);var lt=function(){var t=Object(z.b)(),e=Object(z.c)((function(t){return t.todoLists}));Object(a.useEffect)((function(){t(x())}),[t]);var n=Object(a.useCallback)((function(e){t(H(e))}),[t]);return c.a.createElement("div",{className:"App"},c.a.createElement(et.a,{position:"static"},c.a.createElement(nt.a,null,c.a.createElement(E.a,{edge:"start",color:"inherit","aria-label":"menu"},c.a.createElement(ot.a,null)),c.a.createElement(at.a,{variant:"h6"},"News"),c.a.createElement(Q.a,{color:"inherit"},"Login"))),c.a.createElement(ct.a,null,c.a.createElement(rt.a,{container:!0,style:{padding:"10px"},justify:"center",alignItems:"center"},c.a.createElement($,{addItem:n,placeholder:"Enter Todo List name..."})),c.a.createElement(rt.a,{container:!0,spacing:3},e.map((function(t){return c.a.createElement(rt.a,{item:!0,key:t.id},c.a.createElement(it.a,{elevation:5,style:{padding:"20px 10px"}},c.a.createElement(tt,{key:t.id,todoListId:t.id})))})))))},ut=n(32),st=n(107),dt=n(108),ft=Object(ut.combineReducers)({todoLists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,e=arguments.length>1?arguments[1]:void 0,n=v.CHANGE_TODOLIST_FILTER,a=v.CHANGE_TODOLIST_TITLE,c=v.ADD_TODOLIST,r=v.REMOVE_TODOLIST,i=v.SET_TODO_LISTS;switch(e.type){case r:return t.filter((function(t){return t.id!==e.id}));case c:var o=Object(L.a)(Object(L.a)({},e.todoList),{},{filter:"all"});return[o].concat(Object(S.a)(t));case a:return t.map((function(t){return t.id===e.id?Object(L.a)(Object(L.a)({},t),{},{title:e.title}):t}));case n:return t.map((function(t){return t.id===e.id?Object(L.a)(Object(L.a)({},t),{},{filter:e.filter}):t}));case i:return e.todoLists.map((function(t){return Object(L.a)(Object(L.a)({},t),{},{filter:"all"})}));default:return t}},tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,e=arguments.length>1?arguments[1]:void 0,n=K.REMOVE_TASK,a=K.ADD_TASK,c=K.UPDATE_TASK,r=K.SET_TASKS;switch(e.type){case n:var i=Object(L.a)({},t);return i[e.todoListID]=i[e.todoListID].filter((function(t){return t.id!==e.taskId})),i;case a:var o=e.task;return Object(L.a)(Object(L.a)({},t),{},Object(j.a)({},o.todoListId,[o].concat(Object(S.a)(t[o.todoListId]))));case c:return Object(L.a)(Object(L.a)({},t),{},Object(j.a)({},e.todoListID,t[e.todoListID].map((function(t){return t.id===e.taskId?Object(L.a)(Object(L.a)({},t),e.model):t}))));case v.ADD_TODOLIST:return Object(L.a)(Object(L.a)({},t),{},Object(j.a)({},e.todoList.id,[]));case v.REMOVE_TODOLIST:var l=Object(L.a)({},t);return delete l[e.id],l;case v.SET_TODO_LISTS:var u=Object(L.a)({},t);return e.todoLists.forEach((function(t){u[t.id]=[]})),u;case r:return Object(L.a)(Object(L.a)({},t),{},Object(j.a)({},e.todoListID,e.tasks));default:return t}}}),Ot=Object(ut.createStore)(ft,Object(st.composeWithDevTools)(Object(ut.applyMiddleware)(dt.a)));i.a.render(c.a.createElement(z.a,{store:Ot},c.a.createElement(lt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},80:function(t,e,n){t.exports={btnGroup:"Common_btnGroup__3hj-K",noTasksMessage:"Common_noTasksMessage__2S6NA"}}},[[118,1,2]]]);
//# sourceMappingURL=main.c6af2f89.chunk.js.map