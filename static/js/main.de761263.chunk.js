(this["webpackJsonpit-incubator-todolist-ts"]=this["webpackJsonpit-incubator-todolist-ts"]||[]).push([[0],{128:function(t,e,a){t.exports=a(181)},133:function(t,e,a){},134:function(t,e,a){},181:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a.n(n),i=a(11),r=a.n(i);a(133),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o,l,s=a(42),u=(a(134),a(44)),d=a(221),T=a(67),O=a.n(T),f=O()({input:{width:"70%"},editableSpan:{display:"inline-flex",justifyContent:"center",alignItems:"center",maxWidth:"70%",overflowWrap:"anywhere"}}),m=c.a.memo((function(t){var e=t.changeTitle,a=t.taskTitle,i=f(),r=Object(n.useState)(!1),o=Object(u.a)(r,2),l=o[0],s=o[1],T=Object(n.useState)(a),O=Object(u.a)(T,2),m=O[0],E=O[1],b=Object(n.useCallback)((function(){s(!1),m.trim()&&e(m.trim())}),[m,e]),S=Object(n.useCallback)((function(t){return E(t.currentTarget.value)}),[]);return l?c.a.createElement(d.a,{className:i.input,value:m,onBlur:b,onChange:S,autoFocus:!0}):c.a.createElement("span",{onDoubleClick:function(){return s(!0)},className:i.editableSpan},a)})),E=a(226),b=a(223),S=a(210),p=a(211),j=a(75),_=a(33),A=a(9),L=a(112),I=a.n(L);!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(o||(o={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.High=2]="High",t[t.Later=3]="Later"}(l||(l={}));var v,D=I.a.create(Object(A.a)({baseURL:"https://social-network.samuraijs.com/api/1.1/"},{withCredentials:!0,headers:{"API-KEY":"98ca0a48-2755-4c64-8a17-87fb70df4a7a"}})),k=function(){return D.get("todo-lists")},h=function(t){return D.post("todo-lists",{title:t})},g=function(t){return D.delete("todo-lists/".concat(t))},C=function(t,e){return D.put("todo-lists/".concat(t),{title:e})},y=function(t){return D.get("todo-lists/".concat(t,"/tasks"))},P=function(t,e){return D.post("todo-lists/".concat(t,"/tasks"),{title:e})},w=function(t,e){return D.delete("todo-lists/".concat(e,"/tasks/").concat(t))},N=function(t,e,a){return D.put("todo-lists/".concat(e,"/tasks/").concat(t),a)};!function(t){t.APP_SET_STATUS="APP/SET-STATUS",t.APP_SET_ERROR="APP/SET-ERROR",t.APP_SET_TASK_LOAD_STATUS="APP/APP-SET-TASK-LOAD-STATUS"}(v||(v={}));var R,K={status:"idle",tasksLoadStatus:"loading",error:null},U=function(t){return{type:v.APP_SET_ERROR,error:t}},G=function(t){return{type:v.APP_SET_STATUS,status:t}},H=function(t){return{type:v.APP_SET_TASK_LOAD_STATUS,status:t}};!function(t){t.SET_TODO_LISTS="SET-TODO-LISTS",t.REMOVE_TODOLIST="REMOVE-TODOLIST",t.ADD_TODOLIST="ADD-TODOLIST",t.CHANGE_TODOLIST_TITLE="CHANGE-TODOLIST-TITLE",t.CHANGE_TODOLIST_FILTER="CHANGE-TODOLIST-FILTER",t.CHANGE_TODO_LIST_ENTITY_STATUS="CHANGE-TODO-LIST-ENTITY-STATUS"}(R||(R={}));var M,x=[],V=function(t,e){return{type:R.CHANGE_TODOLIST_FILTER,id:e,filter:t}},W=function(){return function(t){t(G("loading")),k().then((function(e){var a;t((a=e.data,{type:R.SET_TODO_LISTS,todoLists:a})),t(G("succeeded"))}))}},Y=function(t){return function(e){e(G("loading")),e(function(t,e){return{type:R.CHANGE_TODO_LIST_ENTITY_STATUS,entityStatus:e,todoListId:t}}(t,"loading")),g(t).then((function(){var a;e((a=t,{type:R.REMOVE_TODOLIST,id:a})),e(G("succeeded"))}))}},F=function(t){return function(e){e(G("loading")),h(t).then((function(t){var a;e((a=t.data.data.item,{type:R.ADD_TODOLIST,todoList:a})),e(G("succeeded"))}))}},B=function(t,e){return function(a){C(t,e).then((function(){return a(function(t,e){return{type:R.CHANGE_TODOLIST_TITLE,title:e,id:t}}(t,e))}))}};!function(t){t.REMOVE_TASK="REMOVE-TASK",t.ADD_TASK="ADD-TASK",t.UPDATE_TASK="CHANGE-TASK-STATUS",t.SET_TASKS="SET-TASKS"}(M||(M={}));var z={},J=function(t){return function(e){e(H("loading")),y(t).then((function(a){var n,c;e((n=t,c=a.data.items,{type:M.SET_TASKS,todoListID:n,tasks:c})),e(H("idle"))}))}},q=function(t,e){return function(a){a(H("loading")),w(t,e).then((function(){a(function(t,e){return{type:M.REMOVE_TASK,taskId:t,todoListID:e}}(t,e)),a(H("succeeded"))}))}},$=function(t,e){return function(a){a(H("loading")),P(t,e).then((function(t){var e;0===t.data.resultCode?(a((e=t.data.data.item,{type:M.ADD_TASK,task:e})),a(H("succeeded"))):(t.data.messages[0]?a(U(t.data.messages[0])):a(U("Unknown error :-(")),a(H("failed")))}))}},Q=function(t,e,a){return function(n,c){var i=c().tasks[e].find((function(e){return e.id===t}));if(!i)throw new Error("Task no found in the STATE");var r=Object(A.a)({title:i.title,description:i.description,status:i.status,priority:l.Low,startDate:i.startDate,deadline:i.deadline},a);N(t,e,r).then((function(){return n(function(t,e,a){return{type:M.UPDATE_TASK,taskId:t,todoListID:e,model:a}}(t,e,a))}))}},X=a(17),Z=O()({listItem:{display:"flex",justifyContent:"space-between",alignItems:"center",maxWidth:"250px"}}),tt=c.a.memo((function(t){var e=Object(X.b)(),a=Z(),i=t.task,r=t.todoListId,l=Object(n.useCallback)((function(){e(q(i.id,r))}),[e,r,i.id]),s=Object(n.useCallback)((function(t){var a=t.currentTarget.checked?o.Completed:o.New;e(Q(i.id,r,{status:a}))}),[e,r,i.id]),u=Object(n.useCallback)((function(t){e(Q(i.id,r,{title:t}))}),[e,r,i.id]);return c.a.createElement("li",{className:"".concat(i.status===o.Completed?"is-done":""," ").concat(a.listItem)},c.a.createElement(E.a,null,c.a.createElement(b.a,{onChange:s,checked:i.status===o.Completed,color:"primary"}),c.a.createElement(m,{taskTitle:i.title,changeTitle:u})),c.a.createElement(S.a,{onClick:l},c.a.createElement(p.a,null)))})),et=a(212),at=c.a.memo((function(t){var e=t.disabled,a=void 0!==e&&e,i=Object(s.a)(t,["disabled"]),r=i.addItem,o=i.placeholder,l=Object(n.useState)(""),T=Object(u.a)(l,2),O=T[0],f=T[1],m=Object(n.useState)(null),E=Object(u.a)(m,2),b=E[0],p=E[1],j=Object(n.useCallback)((function(){var t=O.trim();t?r(t):p("Title is required!"),f("")}),[O,r]),_=Object(n.useCallback)((function(t){b&&p(""),f(t.currentTarget.value)}),[b]),A=Object(n.useCallback)((function(t){"Enter"===t.key&&j()}),[j]);return c.a.createElement("div",{style:{marginBottom:"20px"}},c.a.createElement(d.a,{disabled:a,variant:"outlined",value:O,onChange:_,onKeyPress:A,error:!!b,helperText:b,label:o||"Enter task name..."}),c.a.createElement(S.a,{onClick:j,color:"primary",disabled:a},c.a.createElement(et.a,null)))})),nt=a(213),ct=a(87),it=a.n(ct),rt=a(116);function ot(){return c.a.createElement("section",{style:{width:"100px",color:"#dc004e",margin:"20px auto 0"}},c.a.createElement(rt.a,null))}var lt=c.a.memo((function(t){var e=t.demo,a=void 0!==e&&e,i=Object(s.a)(t,["demo"]),r=Object(X.c)((function(t){return t.todoLists.filter((function(t){return i.todoListId===t.id}))[0]})),l=Object(X.c)((function(t){return t.tasks[i.todoListId]})),u=Object(X.c)((function(t){return t.app.tasksLoadStatus})),d=Object(X.b)();Object(n.useEffect)((function(){a||d(J(r.id))}),[d,r.id]);var T,O=Object(n.useMemo)((function(){return"active"===r.filter?l.filter((function(t){return t.status===o.New})):"completed"===r.filter?l.filter((function(t){return t.status===o.Completed})):l}),[r.filter,l]),f=Object(n.useCallback)((function(t){d($(r.id,t))}),[d,r.id]),E=Object(n.useCallback)((function(){d(V("all",r.id))}),[d,r.id]),b=Object(n.useCallback)((function(){d(V("active",r.id))}),[d,r.id]),j=Object(n.useCallback)((function(){d(V("completed",r.id))}),[d,r.id]),_=Object(n.useCallback)((function(){d(Y(r.id))}),[d,r.id]),A=Object(n.useCallback)((function(t){d(B(r.id,t))}),[d,r.id]);return c.a.createElement("div",null,c.a.createElement("h3",null,c.a.createElement(m,{taskTitle:r.title,changeTitle:A}),c.a.createElement(S.a,{onClick:_,disabled:"loading"===r.entityStatus},c.a.createElement(p.a,null))),c.a.createElement(at,{addItem:f,disabled:"loading"===r.entityStatus}),c.a.createElement("div",{className:it.a.btnGroup},c.a.createElement(nt.a,{variant:"all"===r.filter?"outlined":"contained",color:"primary",onClick:E,size:"small"},"All"),c.a.createElement(nt.a,{variant:"active"===r.filter?"outlined":"contained",color:"primary",onClick:b,size:"small"},"Active"),c.a.createElement(nt.a,{variant:"completed"===r.filter?"outlined":"contained",color:"primary",onClick:j,size:"small"},"Completed")),"loading"===u?c.a.createElement(ot,null):c.a.createElement("ul",null,O.length?O.map((function(t){return c.a.createElement(tt,{key:t.id,todoListId:i.todoListId,task:t})})):(T="all"===(T=r.filter)?"any":T,c.a.createElement("span",{className:it.a.noTasksMessage},"You have no ",T," tasks"))))})),st=a(214),ut=a(215),dt=a(217),Tt=a(218),Ot=a(219),ft=a(220),mt=a(185),Et=a(216),bt=a(225),St=a(222);function pt(t){return c.a.createElement(St.a,Object.assign({elevation:6,variant:"filled"},t))}function jt(){var t=Object(X.c)((function(t){return t.app.error})),e=Object(X.b)(),a=function(t,a){"clickaway"!==a&&e(U(null))};return c.a.createElement(bt.a,{open:!!t,autoHideDuration:6e3,onClose:a},c.a.createElement(pt,{onClose:a,severity:"error"},t))}var _t=function(t){var e=t.demo,a=void 0!==e&&e,i=(Object(s.a)(t,["demo"]),Object(X.c)((function(t){return t.todoLists}))),r=Object(X.c)((function(t){return t.app.status})),o=Object(X.b)();Object(n.useEffect)((function(){a||o(W())}),[o]);var l=Object(n.useCallback)((function(t){o(F(t))}),[o]);return c.a.createElement("div",{className:"App"},c.a.createElement(st.a,{position:"static"},c.a.createElement(ut.a,null,c.a.createElement(S.a,{edge:"start",color:"inherit","aria-label":"menu"},c.a.createElement(Et.a,null)),c.a.createElement(dt.a,{variant:"h6"},"News"),c.a.createElement(nt.a,{color:"inherit"},"Login")),"loading"===r&&c.a.createElement(Tt.a,{color:"secondary"}),c.a.createElement(jt,null)),c.a.createElement(Ot.a,null,c.a.createElement(ft.a,{container:!0,style:{padding:"10px"},justify:"center",alignItems:"center"},c.a.createElement(at,{addItem:l,placeholder:"Enter Todo List name..."})),c.a.createElement(ft.a,{container:!0,spacing:3},i.map((function(t){return c.a.createElement(ft.a,{item:!0,key:t.id},c.a.createElement(mt.a,{elevation:5,style:{padding:"20px 10px"}},c.a.createElement(lt,{demo:a,key:t.id,todoListId:t.id})))})))))},At=a(36),Lt=a(114),It=a(115),vt=Object(At.combineReducers)({todoLists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,e=arguments.length>1?arguments[1]:void 0,a=R.CHANGE_TODOLIST_FILTER,n=R.CHANGE_TODOLIST_TITLE,c=R.ADD_TODOLIST,i=R.REMOVE_TODOLIST,r=R.SET_TODO_LISTS,o=R.CHANGE_TODO_LIST_ENTITY_STATUS;switch(e.type){case i:return t.filter((function(t){return t.id!==e.id}));case c:return[Object(A.a)(Object(A.a)({},e.todoList),{},{filter:"all",entityStatus:"idle"})].concat(Object(j.a)(t));case n:return t.map((function(t){return t.id===e.id?Object(A.a)(Object(A.a)({},t),{},{title:e.title}):t}));case a:return t.map((function(t){return t.id===e.id?Object(A.a)(Object(A.a)({},t),{},{filter:e.filter}):t}));case o:return t.map((function(t){return t.id===e.todoListId?Object(A.a)(Object(A.a)({},t),{},{entityStatus:e.entityStatus}):t}));case r:return e.todoLists.map((function(t){return Object(A.a)(Object(A.a)({},t),{},{filter:"all",entityStatus:"idle"})}));default:return t}},tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,e=arguments.length>1?arguments[1]:void 0,a=M.REMOVE_TASK,n=M.ADD_TASK,c=M.UPDATE_TASK,i=M.SET_TASKS;switch(e.type){case a:return Object(A.a)(Object(A.a)({},t),{},Object(_.a)({},e.todoListID,t[e.todoListID].filter((function(t){return t.id!==e.taskId}))));case n:var r=e.task;return Object(A.a)(Object(A.a)({},t),{},Object(_.a)({},r.todoListId,[r].concat(Object(j.a)(t[r.todoListId]))));case c:return Object(A.a)(Object(A.a)({},t),{},Object(_.a)({},e.todoListID,t[e.todoListID].map((function(t){return t.id===e.taskId?Object(A.a)(Object(A.a)({},t),e.model):t}))));case R.ADD_TODOLIST:return Object(A.a)(Object(A.a)({},t),{},Object(_.a)({},e.todoList.id,[]));case R.REMOVE_TODOLIST:var o=Object(A.a)({},t);return delete o[e.id],o;case R.SET_TODO_LISTS:var l=Object(A.a)({},t);return e.todoLists.forEach((function(t){l[t.id]=[]})),l;case i:return Object(A.a)(Object(A.a)({},t),{},Object(_.a)({},e.todoListID,e.tasks));default:return t}},app:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,e=arguments.length>1?arguments[1]:void 0,a=v.APP_SET_STATUS,n=v.APP_SET_ERROR,c=v.APP_SET_TASK_LOAD_STATUS;switch(e.type){case a:return Object(A.a)(Object(A.a)({},t),{},{status:e.status});case n:return Object(A.a)(Object(A.a)({},t),{},{error:e.error});case c:return Object(A.a)(Object(A.a)({},t),{},{tasksLoadStatus:e.status});default:return t}}}),Dt=Object(At.createStore)(vt,Object(Lt.composeWithDevTools)(Object(At.applyMiddleware)(It.a)));r.a.render(c.a.createElement(X.a,{store:Dt},c.a.createElement(_t,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},87:function(t,e,a){t.exports={btnGroup:"Common_btnGroup__3hj-K",noTasksMessage:"Common_noTasksMessage__2S6NA"}}},[[128,1,2]]]);
//# sourceMappingURL=main.de761263.chunk.js.map